# Деплой на Render.com

## Инструкция по деплою

### 1. Подготовка

1. Убедитесь, что все файлы закоммичены в Git
2. Создайте репозиторий на GitHub/GitLab/Bitbucket

### 2. Создание сервиса на Render

1. Зайдите на [render.com](https://render.com)
2. Нажмите "New +" → "Web Service"
3. Подключите ваш Git репозиторий
4. Настройте:
   - **Name:** analog-discord
   - **Environment:** Node
   - **Build Command:** `npm install`
   - **Start Command:** `npm start`
   - **Plan:** Free (или выберите платный)

### 3. Переменные окружения

Добавьте в настройках сервиса:
- `NODE_ENV=production`
- `PORT=5000` (или оставьте пустым, Render автоматически назначит)
- `JWT_SECRET` - сгенерируйте случайную строку

### 4. Автоматический деплой

Render автоматически:
- Соберет проект при каждом push в main/master
- Запустит сервер
- Назначит URL (например: `https://analog-discord.onrender.com`)

### 5. Проверка

После деплоя проверьте:
- `https://your-app.onrender.com/api/health` - должен вернуть `{"status":"ok"}`
- Откройте главную страницу и проверьте работу

## Важные замечания

1. **База данных:** SQLite файл будет создаваться автоматически на сервере
2. **WebSocket:** Socket.IO должен работать через HTTPS на Render
3. **STUN серверы:** Используются бесплатные Google STUN серверы
4. **Таймауты:** На бесплатном плане Render может "засыпать" после 15 минут неактивности

## Альтернатива: PostgreSQL на Render

Для продакшена рекомендуется использовать PostgreSQL:
1. Создайте PostgreSQL базу данных на Render
2. Обновите код для работы с PostgreSQL вместо SQLite
3. Добавьте переменную окружения `DATABASE_URL`

